# mcp-repo-onboarding

An **MCP server** for **Gemini CLI** that analyzes a local **Python** repository and helps you generate and maintain a practical `ONBOARDING.md`:

- How to set up the environment
- How to install dependencies
- How to run tests
- How to run the app / dev entrypoints (where detectable)

The server provides **structured JSON about the repo**; **Gemini CLI** turns that into human-readable onboarding docs.

Important clarity:
- **Gemini CLI is the runtime agent that calls MCP tools** (via `mcpServers`).
- This MCP server performs **static analysis + safe local file I/O** (no execution, no network).
- Onboarding prose is generated by Gemini (LLM), grounded in MCP output.

Status: **Phase 7 signed off** (Domain Specialization + UX automation + signal hierarchy).

Rules and contracts live in:
- `docs/design/EXTRACT_OUTPUT_RULES.md`

---

## What this server does

- Detect Python env / deps:
  - `requirements*.txt`
  - `pyproject.toml`
  - `Pipfile`
  - `environment.yml` / `environment.yaml`
  - `setup.cfg`, `setup.py`
- Detect tests and developer commands (best-effort):
  - `pytest` / `tox` / `nox` (where detectable)
  - `Makefile` targets: `install`, `test`, `lint`, `format`, `run`, etc.
  - repo scripts in `scripts/*.sh` (existence-based)
- Report key files:
  - Docs: `README*`, `CONTRIBUTING*`, `docs/**`
  - Config: `.pre-commit-config.*`, `.github/workflows/*`, `tox.ini`, etc.
- **Smart Filtering:** ignores test fixtures, build artifacts, and environments (see `docs/design/EXTRACT_OUTPUT_RULES.md`).
- Manage `ONBOARDING.md`:
  - read existing file
  - write / overwrite / append, with optional backups

---

## What this server does not do

- Execute project code or run shell commands
- Make network calls
- Infer deep architecture/design rationale
- Replace full documentation systems

---

## Installation

### Prerequisites
- Python 3.11+
- [uv](https://github.com/astral-sh/uv) (recommended)

### Install / run locally
```bash
git clone https://github.com/rogermt/mcp-repo-onboarding.git
cd mcp-repo-onboarding
uv sync
uv run mcp-repo-onboarding
